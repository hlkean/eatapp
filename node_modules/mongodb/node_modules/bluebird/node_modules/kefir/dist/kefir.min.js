/*! Kefir.js v2.8.2
 *  https://github.com/rpominov/kefir
 */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Kefir=n():t.Kefir=n()}(this,function(){return function(t){function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function i(t,n,e){return function(){if(r.DEPRECATION_WARNINGS&&"undefined"!=typeof console&&console.log){var i="Method `"+t+"` is deprecated, and to be removed in v3.0.0.\nUse `"+n+"` instead.\nTo disable all warnings like this set `Kefir.DEPRECATION_WARNINGS = false`.";console.log(i)}return e.apply(this,arguments)}}var r=t.exports={};r.Kefir=r;var s=r.Observable=e(1);r.Stream=e(6),r.Property=e(7),r.never=e(8),r.later=e(9),r.interval=e(11),r.sequentially=e(12),r.fromPoll=e(13),r.withInterval=e(14),r.fromCallback=e(16),r.fromNodeCallback=e(18),r.fromEvents=e(19),r.stream=e(17),r.constant=e(22),r.constantError=e(23),r.fromPromise=e(24);var u=e(25);s.prototype.toProperty=function(t){return u(this,t)};var a=e(27);s.prototype.changes=function(){return a(this)};var o=e(28);s.prototype.toPromise=function(t){return o(this,t)};var h=e(29);s.prototype.map=function(t){return h(this,t)};var c=e(30);s.prototype.filter=function(t){return c(this,t)};var l=e(31);s.prototype.take=function(t){return l(this,t)};var f=e(32);s.prototype.takeWhile=function(t){return f(this,t)};var _=e(33);s.prototype.last=function(){return _(this)};var d=e(34);s.prototype.skip=function(t){return d(this,t)};var m=e(35);s.prototype.skipWhile=function(t){return m(this,t)};var v=e(36);s.prototype.skipDuplicates=function(t){return v(this,t)};var p=e(37);s.prototype.diff=function(t,n){return p(this,t,n)};var y=e(38);s.prototype.scan=function(t,n){return y(this,t,n)};var g=e(39);s.prototype.flatten=function(t){return g(this,t)};var E=e(40);s.prototype.delay=function(t){return E(this,t)};var S=e(41);s.prototype.throttle=function(t,n){return S(this,t,n)};var A=e(43);s.prototype.debounce=function(t,n){return A(this,t,n)};var x=e(44);s.prototype.valuesToErrors=function(t){return x(this,t)};var b=e(45);s.prototype.errorsToValues=function(t){return b(this,t)};var V=e(46);s.prototype.mapErrors=function(t){return V(this,t)};var w=e(47);s.prototype.filterErrors=function(t){return w(this,t)};var T=e(48);s.prototype.endOnError=function(){return T(this)};var P=e(49);s.prototype.skipValues=function(){return P(this)};var N=e(50);s.prototype.skipErrors=function(){return N(this)};var k=e(51);s.prototype.skipEnd=function(){return k(this)};var $=e(52);s.prototype.beforeEnd=function(t){return $(this,t)};var I=e(53);s.prototype.slidingWindow=function(t,n){return I(this,t,n)};var C=e(54);s.prototype.bufferWhile=function(t,n){return C(this,t,n)};var L=e(55);s.prototype.transduce=function(t){return L(this,t)};var O=e(56);s.prototype.withHandler=function(t){return O(this,t)};var R=r.combine=e(57);s.prototype.combine=function(t,n){return R([this,t],n)};var B=r.zip=e(58);s.prototype.zip=function(t,n){return B([this,t],n)};var D=r.merge=e(59);s.prototype.merge=function(t){return D([this,t])};var H=r.concat=e(61);s.prototype.concat=function(t){return H([this,t])};var U=r.Pool=e(63);r.pool=function(){return new U},r.repeat=e(62);var W=e(64);s.prototype.flatMap=function(t){return new W(this,t).setName(this,"flatMap")},s.prototype.flatMapLatest=function(t){return new W(this,t,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},s.prototype.flatMapFirst=function(t){return new W(this,t,{concurLim:1}).setName(this,"flatMapFirst")},s.prototype.flatMapConcat=function(t){return new W(this,t,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},s.prototype.flatMapConcurLimit=function(t,n){return new W(this,t,{queueLim:-1,concurLim:n}).setName(this,"flatMapConcurLimit")};var M=e(65);s.prototype.flatMapErrors=function(t){return new M(this,t).setName(this,"flatMapErrors")};var q=e(66);s.prototype.filterBy=function(t){return q(this,t)};var K=e(68);s.prototype.sampledBy=function(t,n){return K(this,t,n)};var F=e(69);s.prototype.skipUntilBy=function(t){return F(this,t)};var G=e(70);s.prototype.takeUntilBy=function(t){return G(this,t)};var Q=e(71);s.prototype.bufferBy=function(t,n){return Q(this,t,n)};var j=e(72);s.prototype.bufferWhileBy=function(t,n){return j(this,t,n)};var Y=e(73);s.prototype.awaiting=function(t){return Y(this,t)},r.DEPRECATION_WARNINGS=!0;var z=r.Emitter=e(74);r.emitter=i("Kefir.emitter()","Kefir.stream()",function(){return new z});var J=r.Bus=e(75);r.bus=i("Kefir.bus()","Kefir.pool() or Kefir.stream()",function(){return new J});var X=e(76);s.prototype.reduce=i(".reduce(fn, seed)",".scan(fn, seed).last()",function(t,n){return X(this,t,n)});var Z=e(77);r.sampledBy=i("Kefir.sampledBy()","Kefir.combine()",Z);var tt=e(78);r.repeatedly=i("Kefir.repeatedly()","Kefir.repeat(() => Kefir.sequentially(...)})",tt);var nt=e(79);s.prototype.mapTo=i(".mapTo()",".map(() => value)",function(t){return nt(this,t)});var et=e(80);s.prototype.tap=i(".tap()",".map((v) => {fn(v); return v})",function(t){return et(this,t)});var it=e(81);s.prototype.pluck=i(".pluck()",".map((x) => x.foo)",function(t){return it(this,t)});var rt=e(82);s.prototype.invoke=i(".invoke()",".map((x) => x.foo())",function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),i=1;n>i;i++)e[i-1]=arguments[i];return rt(this,t,e)});var st=e(83);s.prototype.timestamp=i(".timestamp()",".map((x) => {value: x, time: Date.now()})",function(){return st(this)});var ut=e(84);r.and=i("Kefir.and()","Kefir.combine([a, b], (a, b) => a && b)",ut),s.prototype.and=i(".and()",".combine(other, (a, b) => a && b)",function(t){return ut([this,t])});var at=e(85);r.or=i("Kefir.or()","Kefir.combine([a, b], (a, b) => a || b)",at),s.prototype.or=i(".or()",".combine(other, (a, b) => a || b)",function(t){return at([this,t])});var ot=e(86);s.prototype.not=i(".not()",".map((x) => !x)",function(){return ot(this)});var ht=e(20);r.fromSubUnsub=i(".fromSubUnsub()","Kefir.stream()",ht);var ct=e(87);s.prototype.takeWhileBy=i(".takeWhileBy(foo)",".skipUntilBy(foo.filter((x) => !x))",function(t){return ct(this,t)});var lt=e(88);s.prototype.skipWhileBy=i(".skipWhileBy(foo)",".takeUntilBy(foo.filter((x) => !x))",function(t){return lt(this,t)})},function(t,n,e){"use strict";function i(){this._dispatcher=new f,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null}var r=e(2),s=r.extend,u=e(3),a=u.VALUE,o=u.ERROR,h=u.ANY,c=u.END,l=e(4),f=l.Dispatcher,_=l.callSubscriber,d=e(5),m=d.findByPred;s(i.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(t){this._active!==t&&(this._active=t,t?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(t,n){switch(t){case a:return this._emitValue(n);case o:return this._emitError(n);case c:return this._emitEnd()}},_emitValue:function(t){this._alive&&this._dispatcher.dispatch({type:a,value:t,current:this._activating})},_emitError:function(t){this._alive&&this._dispatcher.dispatch({type:o,value:t,current:this._activating})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:c,current:this._activating}),this._clear())},_on:function(t,n){return this._alive?(this._dispatcher.add(t,n),this._setActive(!0)):_(t,n,{type:c,current:!0}),this},_off:function(t,n){if(this._alive){var e=this._dispatcher.remove(t,n);0===e&&this._setActive(!1)}return this},onValue:function(t){return this._on(a,t)},onError:function(t){return this._on(o,t)},onEnd:function(t){return this._on(c,t)},onAny:function(t){return this._on(h,t)},offValue:function(t){return this._off(a,t)},offError:function(t){return this._off(o,t)},offEnd:function(t){return this._off(c,t)},offAny:function(t){return this._off(h,t)},_ofSameType:function(t,n){return t.prototype.getType()===this.getType()?t:n},setName:function(t,n){return this._name=n?t._name+"."+n:t,this},log:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0],n=function(n){var e="<"+n.type+(n.current?":current":"")+">";n.type===c?console.log(t,e):console.log(t,e,n.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:t,handler:n})),this.onAny(n),this},offLog:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0];if(this._logHandlers){var n=m(this._logHandlers,function(n){return n.name===t});-1!==n&&(this.offAny(this._logHandlers[n].handler),this._logHandlers.splice(n,1))}return this}}),i.prototype.toString=function(){return"["+this._name+"]"},t.exports=i},function(t,n){"use strict";function e(t){var n=function(){};return n.prototype=t,new n}function i(t){var n=arguments.length,e=void 0,i=void 0;for(e=1;n>e;e++)for(i in arguments[e])t[i]=arguments[e][i];return t}function r(t,n){var r=arguments.length,s=void 0;for(t.prototype=e(n.prototype),t.prototype.constructor=t,s=2;r>s;s++)i(t.prototype,arguments[s]);return t}t.exports={extend:i,inherit:r}},function(t,n){"use strict";n.NOTHING=["<nothing>"],n.END="end",n.VALUE="value",n.ERROR="error",n.ANY="any"},function(t,n,e){"use strict";function i(t,n,e){t===c?n(e):t===e.type&&(t===o||t===h?n(e.value):n())}function r(){this._items=[],this._inLoop=0,this._removedItems=null}var s=e(2),u=s.extend,a=e(3),o=a.VALUE,h=a.ERROR,c=a.ANY,l=e(5),f=l.concat,_=l.findByPred,d=l.remove,m=l.contains;u(r.prototype,{add:function(t,n){return this._items=f(this._items,[{type:t,fn:n}]),this._items.length},remove:function(t,n){var e=_(this._items,function(e){return e.type===t&&e.fn===n});return 0!==this._inLoop&&-1!==e&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[e])),this._items=d(this._items,e),this._items.length},dispatch:function(t){this._inLoop++;for(var n=0,e=this._items;n<e.length&&null!==this._items;n++)null!==this._removedItems&&m(this._removedItems,e[n])||i(e[n].type,e[n].fn,t);this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null}}),t.exports={callSubscriber:i,Dispatcher:r}},function(t,n){"use strict";function e(t,n){var e=void 0,i=void 0,r=void 0,s=void 0;if(0===t.length)return n;if(0===n.length)return t;for(s=0,e=new Array(t.length+n.length),i=t.length,r=0;i>r;r++,s++)e[s]=t[r];for(i=n.length,r=0;i>r;r++,s++)e[s]=n[r];return e}function i(t,n){var e=t.length,i=new Array(e),r=void 0;for(r=0;e>r;r++)i[(r+n)%e]=t[r];return i}function r(t,n){var e=t.length,i=void 0;for(i=0;e>i;i++)if(t[i]===n)return i;return-1}function s(t,n){var e=t.length,i=void 0;for(i=0;e>i;i++)if(n(t[i]))return i;return-1}function u(t){var n=t.length,e=new Array(n),i=void 0;for(i=0;n>i;i++)e[i]=t[i];return e}function a(t,n){var e=t.length,i=void 0,r=void 0,s=void 0;if(n>=0&&e>n){if(1===e)return[];for(i=new Array(e-1),r=0,s=0;e>r;r++)r!==n&&(i[s]=t[r],s++);return i}return t}function o(t,n){return a(t,s(t,n))}function h(t,n){var e=t.length,i=new Array(e),r=void 0;for(r=0;e>r;r++)i[r]=n(t[r]);return i}function c(t,n){var e=t.length,i=void 0;for(i=0;e>i;i++)n(t[i])}function l(t,n){var e=t.length,i=void 0;for(i=0;e>i;i++)t[i]=n}function f(t,n){return-1!==r(t,n)}function _(t,n,e){var i=Math.min(e,t.length+1),r=t.length-i+1,s=new Array(i),u=void 0;for(u=r;i>u;u++)s[u-r]=t[u];return s[i-1]=n,s}t.exports={concat:e,circleShift:i,find:r,findByPred:s,cloneArray:u,remove:a,removeByPred:o,map:h,forEach:c,fillArray:l,contains:f,slide:_}},function(t,n,e){"use strict";function i(){u.call(this)}var r=e(2),s=r.inherit,u=e(1);s(i,u,{_name:"stream",getType:function(){return"stream"}}),t.exports=i},function(t,n,e){"use strict";function i(){f.call(this),this._currentEvent=null}var r=e(2),s=r.inherit,u=e(3),a=u.VALUE,o=u.ERROR,h=u.END,c=e(4),l=c.callSubscriber,f=e(1);s(i,f,{_name:"property",_emitValue:function(t){this._alive&&(this._activating||this._dispatcher.dispatch({type:a,value:t,current:this._activating}),this._currentEvent={type:a,value:t,current:!0})},_emitError:function(t){this._alive&&(this._activating||this._dispatcher.dispatch({type:o,value:t,current:this._activating}),this._currentEvent={type:o,value:t,current:!0})},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:h,current:this._activating}),this._clear())},_on:function(t,n){return this._alive&&(this._dispatcher.add(t,n),this._setActive(!0)),null!==this._currentEvent&&l(t,n,this._currentEvent),this._alive||l(t,n,{type:h,current:!0}),this},getType:function(){return"property"}}),t.exports=i},function(t,n,e){"use strict";var i=e(6),r=new i;r._emitEnd(),r._name="never",t.exports=function(){return r}},function(t,n,e){"use strict";var i=e(10),r=i({_name:"later",_init:function(t){var n=t.x;this._x=n},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}});t.exports=function(t,n){return new r(t,{x:n})}},function(t,n,e){"use strict";var i=e(2),r=i.inherit,s=e(6);t.exports=function(t){function n(t,n){var e=this;s.call(this),this._wait=t,this._intervalId=null,this._$onTick=function(){return e._onTick()},this._init(n)}return r(n,s,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){s.prototype._clear.call(this),this._$onTick=null,this._free()}},t),n}},function(t,n,e){"use strict";var i=e(10),r=i({_name:"interval",_init:function(t){var n=t.x;this._x=n},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}});t.exports=function(t,n){return new r(t,{x:n})}},function(t,n,e){"use strict";var i=e(10),r=e(5),s=r.cloneArray,u=e(8),a=i({_name:"sequentially",_init:function(t){var n=t.xs;this._xs=s(n)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}});t.exports=function(t,n){return 0===n.length?u():new a(t,{xs:n})}},function(t,n,e){"use strict";var i=e(10),r=i({_name:"fromPoll",_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_onTick:function(){var t=this._fn;this._emitValue(t())}});t.exports=function(t,n){return new r(t,{fn:n})}},function(t,n,e){"use strict";var i=e(10),r=e(15),s=i({_name:"withInterval",_init:function(t){var n=t.fn;this._fn=n,this._emitter=r(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var t=this._fn;t(this._emitter)}});t.exports=function(t,n){return new s(t,{fn:n})}},function(t,n){"use strict";t.exports=function(t){function n(n){return t._emitValue(n),t._active}function e(n){return t._emitError(n),t._active}function i(){return t._emitEnd(),t._active}function r(n){return t._emit(n.type,n.value),t._active}return{value:n,error:e,end:i,event:r,emit:n,emitEvent:r}}},function(t,n,e){"use strict";var i=e(17);t.exports=function(t){var n=!1;return i(function(e){n||(t(function(t){e.emit(t),e.end()}),n=!0)}).setName("fromCallback")}},function(t,n,e){"use strict";function i(t){u.call(this),this._fn=t,this._unsubscribe=null}var r=e(2),s=r.inherit,u=e(6),a=e(15);s(i,u,{_name:"stream",_onActivation:function(){var t=this._fn,n=t(a(this));this._unsubscribe="function"==typeof n?n:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){u.prototype._clear.call(this),this._fn=null}}),t.exports=function(t){return new i(t)}},function(t,n,e){"use strict";var i=e(17);t.exports=function(t){var n=!1;return i(function(e){n||(t(function(t,n){t?e.error(t):e.emit(n),e.end()}),n=!0)}).setName("fromNodeCallback")}},function(t,n,e){"use strict";var i=e(20),r=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];t.exports=function(t,n,e){for(var s=void 0,u=void 0,a=0;a<r.length;a++)if("function"==typeof t[r[a][0]]&&"function"==typeof t[r[a][1]]){s=r[a][0],u=r[a][1];break}if(void 0===s)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return i(function(e){return t[s](n,e)},function(e){return t[u](n,e)},e).setName("fromEvents")}},function(t,n,e){"use strict";var i=e(17),r=e(21),s=r.apply;t.exports=function(t,n,e){return i(function(i){var r=e?function(){i.emit(s(e,this,arguments))}:i.emit;return t(r),function(){return n(r)}}).setName("fromSubUnsub")}},function(t,n){"use strict";function e(t,n){switch(n){case 0:return function(){return t()};case 1:return function(n){return t(n[0])};case 2:return function(n){return t(n[0],n[1])};case 3:return function(n){return t(n[0],n[1],n[2])};case 4:return function(n){return t(n[0],n[1],n[2],n[3])};default:return function(n){return t.apply(null,n)}}}function i(t,n,e){var i=e?e.length:0;if(null==n)switch(i){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);default:return t.apply(null,e)}else switch(i){case 0:return t.call(n);default:return t.apply(n,e)}}t.exports={spread:e,apply:i}},function(t,n,e){"use strict";function i(t){this._currentEvent={type:"value",value:t,current:!0}}var r=e(2),s=r.inherit,u=e(7);s(i,u,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),t.exports=function(t){return new i(t)}},function(t,n,e){"use strict";function i(t){this._currentEvent={type:"error",value:t,current:!0}}var r=e(2),s=r.inherit,u=e(7);s(i,u,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),t.exports=function(t){return new i(t)}},function(t,n,e){"use strict";var i=e(17),r=e(25);t.exports=function(t){var n=!1,e=i(function(e){if(!n){var i=function(t){e.emit(t),e.end()},r=function(t){e.error(t),e.end()},s=t.then(i,r);s&&"function"==typeof s.done&&s.done(),n=!0}});return r(e,null).setName("fromPromise")}},function(t,n,e){"use strict";var i=e(26),r=i.createProperty,s=r("toProperty",{_init:function(t){var n=t.fn;this._getInitialCurrent=n},_onActivation:function(){if(null!==this._getInitialCurrent){var t=this._getInitialCurrent;this._emitValue(t())}this._source.onAny(this._$handleAny)}});t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(null!==n&&"function"!=typeof n)throw new Error("You should call toProperty() with a function or no arguments.");return new s(t,{fn:n})}},function(t,n,e){"use strict";function i(t,n){return function(e,i){var r=this;t.call(this),this._source=e,this._name=e._name+"."+n,this._init(i),this._$handleAny=function(t){return r._handleAny(t)}}}function r(t){return{_init:function(){},_free:function(){},_handleValue:function(t){this._emitValue(t)},_handleError:function(t){this._emitError(t)},_handleEnd:function(){this._emitEnd()},_handleAny:function(t){switch(t.type){case f:return this._handleValue(t.value);case _:return this._handleError(t.value);case d:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){t.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function s(t,n){var e=i(a,t);return c(e,a,r(a),n),e}function u(t,n){var e=i(o,t);return c(e,o,r(o),n),e}var a=e(6),o=e(7),h=e(2),c=h.inherit,l=e(3),f=l.VALUE,_=l.ERROR,d=l.END;t.exports={createStream:s,createProperty:u}},function(t,n,e){"use strict";var i=e(26),r=i.createStream,s=r("changes",{_handleValue:function(t){this._activating||this._emitValue(t)},_handleError:function(t){this._activating||this._emitError(t)}});t.exports=function(t){return new s(t)}},function(t,n){"use strict";function e(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?e():arguments[1],i=null;return new n(function(n,e){t.onAny(function(t){"end"===t.type&&null!==i?(("value"===i.type?n:e)(i.value),i=null):i=t})})}},function(t,n,e){"use strict";var i=e(26),r=i.createStream,s=i.createProperty,u={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;this._emitValue(n(t))}},a=r("map",u),o=s("map",u),h=function(t){return t};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?h:arguments[1];return new(t._ofSameType(a,o))(t,{fn:n})}},function(t,n,e){"use strict";var i=e(26),r=i.createStream,s=i.createProperty,u={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;n(t)&&this._emitValue(t)}},a=r("filter",u),o=s("filter",u),h=function(t){return t};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?h:arguments[1];return new(t._ofSameType(a,o))(t,{fn:n})}},function(t,n,e){"use strict";var i=e(26),r=i.createStream,s=i.createProperty,u={_init:function(t){var n=t.n;this._n=n,0>=n&&this._emitEnd()},_handleValue:function(t){this._n--,this._emitValue(t),0===this._n&&this._emitEnd()}},a=r("take",u),o=s("take",u);t.exports=function(t,n){return new(t._ofSameType(a,o))(t,{n:n})}},function(t,n,e){"use strict";var i=e(26),r=i.createStream,s=i.createProperty,u={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;n(t)?this._emitValue(t):this._emitEnd()}},a=r("takeWhile",u),o=s("takeWhile",u),h=function(t){return t};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?h:arguments[1];return new(t._ofSameType(a,o))(t,{fn:n})}},function(t,n,e){"use strict";var i=e(26),r=i.createStream,s=i.createProperty,u=e(3),a=u.NOTHING,o={_init:function(){this._lastValue=a},_free:function(){this._lastValue=null},_handleValue:function(t){this._lastValue=t},_handleEnd:function(){this._lastValue!==a&&this._emitValue(this._lastValue),this._emitEnd()}},h=r("last",o),c=s("last",o);t.exports=function(t){return new(t._ofSameType(h,c))(t)}},function(t,n,e){"use strict";var i=e(26),r=i.createStream,s=i.createProperty,u={_init:function(t){var n=t.n;this._n=Math.max(0,n)},_handleValue:function(t){0===this._n?this._emitValue(t):this._n--}},a=r("skip",u),o=s("skip",u);t.exports=function(t,n){return new(t._ofSameType(a,o))(t,{n:n})}},function(t,n,e){"use strict";var i=e(26),r=i.createStream,s=i.createProperty,u={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;null===this._fn||n(t)||(this._fn=null),null===this._fn&&this._emitValue(t)}},a=r("skipWhile",u),o=s("skipWhile",u),h=function(t){return t};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?h:arguments[1];return new(t._ofSameType(a,o))(t,{fn:n})}},function(t,n,e){"use strict";var i=e(26),r=i.createStream,s=i.createProperty,u=e(3),a=u.NOTHING,o={_init:function(t){var n=t.fn;this._fn=n,this._prev=a},_free:function(){this._fn=null,this._prev=null},_handleValue:function(t){var n=this._fn;this._prev!==a&&n(this._prev,t)||(this._prev=t,this._emitValue(t))}},h=r("skipDuplicates",o),c=s("skipDuplicates",o),l=function(t,n){return t===n};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?l:arguments[1];return new(t._ofSameType(h,c))(t,{fn:n})}},function(t,n,e){"use strict";function i(t,n){return[t,n]}var r=e(26),s=r.createStream,u=r.createProperty,a=e(3),o=a.NOTHING,h={_init:function(t){var n=t.fn,e=t.seed;this._fn=n,this._prev=e},_free:function(){this._prev=null,this._fn=null},_handleValue:function(t){if(this._prev!==o){var n=this._fn;this._emitValue(n(this._prev,t))}this._prev=t}},c=s("diff",h),l=u("diff",h);t.exports=function(t,n){var e=arguments.length<=2||void 0===arguments[2]?o:arguments[2];return new(t._ofSameType(c,l))(t,{fn:n||i,seed:e})}},function(t,n,e){"use strict";var i=e(26),r=i.createProperty,s=e(3),u=s.ERROR,a=s.NOTHING,o=r("scan",{_init:function(t){var n=t.fn,e=t.seed;this._fn=n,this._seed=e,e!==a&&this._emitValue(e)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(t){var n=this._fn;null===this._currentEvent||this._currentEvent.type===u?this._emitValue(this._seed===a?t:n(this._seed,t)):this._emitValue(n(this._currentEvent.value,t))}});t.exports=function(t,n){var e=arguments.length<=2||void 0===arguments[2]?a:arguments[2];return new o(t,{fn:n,seed:e})}},function(t,n,e){"use strict";var i=e(26),r=i.createStream,s=i.createProperty,u={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){for(var n=this._fn,e=n(t),i=0;i<e.length;i++)this._emitValue(e[i])}},a=r("flatten",u),o=s("flatten",u),h=function(t){return t};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?h:arguments[1];return new(t._ofSameType(a,o))(t,{fn:n})}},function(t,n,e){"use strict";var i=e(26),r=i.createStream,s=i.createProperty,u={},a={_init:function(t){var n=this,e=t.wait;this._wait=Math.max(0,e),this._buff=[],this._$shiftBuff=function(){var t=n._buff.shift();t===u?n._emitEnd():n._emitValue(t)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._buff.push(t),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(u),setTimeout(this._$shiftBuff,this._wait))}},o=r("delay",a),h=s("delay",a);t.exports=function(t,n){return new(t._ofSameType(o,h))(t,{wait:n})}},function(t,n,e){"use strict";var i=e(26),r=i.createStream,s=i.createProperty,u=e(42),a={_init:function(t){var n=this,e=t.wait,i=t.leading,r=t.trailing;this._wait=Math.max(0,e),this._leading=i,this._trailing=r,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return n._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingC